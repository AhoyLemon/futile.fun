body { background:#333; }
main { height: 99vh; @include flex-center(); font-family: $font; }

$rock: 8vw;
$scene: ($rock * 5);

.test { height:100px; width: 100px; overflow: visible; z-index: 100; position: relative; display: none;
  .inner { @include position(absolute,0,null,0,0); width:285%; background-image:url(../svg/background.svg); background-position: bottom left; background-size:contain; background-repeat: no-repeat; background-color:lime; }
}

@keyframes shift_background {
  0%      {transform: translateX(0);   }
  50%   {transform: translateX(-70%); }
  100%   {transform: translateX(0); }
}

.scene { width:$scene; position: relative;
  figure { height:$scene; background:#999; position: relative; overflow: hidden;

    .background { @include position(absolute,0,null,0,0); background-image:url(../svg/background.svg); background-size:cover; background-position: center left; background-repeat: repeat-x; z-index: $z-background;
      width: 220%; transition:transform 1.5s linear;
    }
    .hill { @include position(absolute,0,0,0,0); background-image:url(../svg/hill.svg); background-size:cover; background-position: bottom left; z-index: $z-hill; }
    .shine { @include position(absolute,0,0,0,0); background-image:url(../svg/shine.svg); background-size:cover; background-position: top right; z-index: $z-shine; }


    .sisyphys { display: block; position: absolute; z-index: $z-sisyphus; cursor: pointer; transition:all 0.3s ease; color:black; background:transparent; border:none; padding:0; outline:none;
      &::-moz-focus-inner { border:0; }
      .st0{ fill:#efa547}.st1{fill:#0b191e}.st2{fill:#f8c977} 
      //background-image:url(../svg/pusher.svg); background-position: bottom right; background-size:contain; background-repeat: no-repeat;
      //svg * { fill:currentColor; }
      //&:hover svg * { fill:darkblue; }
    }
    .rock { width:$rock; height:$rock; position: absolute; background:#ED6F4B; border-radius:50%; transition: all 0.3s ease; transition-delay:0.1s; z-index: $z-rock;
      &.falling { transition-duration: 2s; transition-timing-function: cubic-bezier(.32,.39,.47,1.04); }
    }

    .foreground { @include position(absolute,0,null,0,0); width:450%; background-image:url(../svg/foreground.svg); background-size:cover; background-position: bottom left; background-repeat: repeat-x; z-index: $z-foreground; pointer-events: none;
      //transition:transform 1.2s linear;

      animation-name: shift_background; animation-duration: 1000s; animation-iteration-count: infinite; animation-timing-function: linear;
      


    }
  }

  .pillar { @include position(absolute,0); height: ($scene * 1.2); width: ($scene / 3.8); z-index: $z-pillar;
    &.one { left:0; transform: translate(-75%,-5%); }
    &.two { right:0; transform: translate(75%,-4%); }
  }


  figcaption { color:#272128; font-size:2.2vw; text-align: center; font-family: $headline; background-image:url(../svg/placard.svg); background-position: center; background-size:contain; background-repeat: no-repeat; height: 3em; 
    @include flex-center(); line-height: 75%; position: relative; z-index: $z-figcaption; transform: translateY(-25%);
    //position: absolute;
  }
}

